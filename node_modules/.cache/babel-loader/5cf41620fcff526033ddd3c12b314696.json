{"remainingRequest":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\src\\components\\Charts.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\src\\components\\Charts.vue","mtime":1649176849805},{"path":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\babel.config.js","mtime":1649172450133},{"path":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649172470798},{"path":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js","mtime":1649172469856},{"path":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649172470798},{"path":"C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1649172521123}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2RhdmlkL0Rlc2t0b3AvZ2l0IDEvQ292aWRUcmF2ZWxUcmFja2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldERvY3MgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwp2YXIgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0cycsCiAgcHJvcHM6IHsKICAgIGNvdW50cnlQcm9wOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydGRhdGE6IHt9LAogICAgICB3ZWVrRGF0YToge30sCiAgICAgIHR3b1dlZWtEYXRhOiB7fSwKICAgICAgc2VsZWN0ZWQ6ICIiLAogICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnlQcm9wCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGRpc3BsYXkoKTsKICAgIGNvbnNvbGUubG9nKCJjb3VudHJ5OiIgKyBzZWxmLmNvdW50cnkpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGNvdW50cnlQcm9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY291bnRyeVByb3AgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoeCkgewogICAgICAgIHZhciBzZWxmLCBvYmosIHosIGRhdGUsIGNhc2VzLCBjYXNlc0RhaWx5LCBpLCBtb250aERhdGEsIF9pLCB3ZWVrRGF0YSwgX2kyLCB0d29XZWVrRGF0YSwgX2kzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZWxmID0gdGhpczsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwcm9wIGNoYW5nZWQ6IiArIHgpOwogICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5ID0geDsKICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBPYmplY3QoKTsgLy9jaGFuZ2UgIkF1c3RyYWxpYSIgdG8gc2VsZi5jb3VudHJ5CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCB4KSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHogPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgei5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpbZC5kYXRhKCkuZGF0ZV0gPSBkLmRhdGEoKS5DYXNlczsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGF0ZSA9IFtdOwogICAgICAgICAgICAgICAgY2FzZXMgPSBbXTsKICAgICAgICAgICAgICAgIGNhc2VzRGFpbHkgPSBbXTsKICAgICAgICAgICAgICAgIHouZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5wdXNoKGQuZGF0YSgpLmRhdGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB6LmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhc2VzLnB1c2goZC5kYXRhKCkuQ2FzZXMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY2FzZXMiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhc2VzKTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgY2FzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgY2FzZXNEYWlseVtpXSA9IGNhc2VzW2ldIC0gY2FzZXNbaSAtIDFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1vbnRoRGF0YSA9IG5ldyBPYmplY3QoKTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pID0gMTsgX2kgPCBjYXNlcy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgbW9udGhEYXRhW2RhdGVbX2ldXSA9IGNhc2VzRGFpbHlbX2ldOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNlbGYuY2hhcnRkYXRhID0gbW9udGhEYXRhOwogICAgICAgICAgICAgICAgd2Vla0RhdGEgPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgICAgICAgZm9yIChfaTIgPSA3OyBfaTIgPiAwOyBfaTItLSkgewogICAgICAgICAgICAgICAgICB3ZWVrRGF0YVtkYXRlW2RhdGUubGVuZ3RoIC0gX2kyXV0gPSBjYXNlc0RhaWx5W2Nhc2VzRGFpbHkubGVuZ3RoIC0gX2kyXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0d29XZWVrRGF0YSA9IG5ldyBPYmplY3QoKTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMyA9IDE0OyBfaTMgPiAwOyBfaTMtLSkgewogICAgICAgICAgICAgICAgICB0d29XZWVrRGF0YVtkYXRlW2RhdGUubGVuZ3RoIC0gX2kzXV0gPSBjYXNlc0RhaWx5W2Nhc2VzRGFpbHkubGVuZ3RoIC0gX2kzXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZWxmLndlZWtEYXRhID0gd2Vla0RhdGE7CiAgICAgICAgICAgICAgICBzZWxmLnR3b1dlZWtEYXRhID0gdHdvV2Vla0RhdGE7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY291bnRyeVByb3AoX3gpIHsKICAgICAgICByZXR1cm4gX2NvdW50cnlQcm9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb3VudHJ5UHJvcDsKICAgIH0oKQogIH0KfTs="},{"version":3,"mappings":";;;;AAyBA,OAAOA,WAAP,MAAwB,gBAAxB;AACA,SAAQC,YAAR,QAA2B,oBAA3B;AACA,SAAQC,UAAR,EAAoBC,OAApB,QAAkC,oBAAlC;AACA,IAAMC,EAAC,GAAIH,YAAY,CAACD,WAAD,CAAvB;AAGA,eAAe;AAEXK,MAAI,EAAC,QAFM;AAGXC,OAAK,EAAE;AACJC,eAAW,EAAEC;AADT,GAHI;AAMXC,MANW,kBAML;AACF,WAAM;AACFC,eAAS,EAAE,EADT;AAEFC,cAAQ,EAAE,EAFR;AAGFC,iBAAW,EAAE,EAHX;AAIFC,cAAQ,EAAE,EAJR;AAKFC,aAAO,EAAE,KAAKP;AALZ,KAAN;AAQH,GAfU;AAiBXQ,SAjBW,qBAiBF;AACL,QAAMC,IAAG,GAAI,IAAb;AACAC,WAAO;AACPC,WAAO,CAACC,GAAR,CAAY,aAAcH,IAAI,CAACF,OAA/B;AAGP,GAvBc;AAwBXM,OAAK,EAAE;AAEHb,eAAW;AAAA,iFAAE,iBAAec,CAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AACHL,oBADG,GACI,IADJ;AAETE,uBAAO,CAACC,GAAR,CAAY,kBAAkBE,CAA9B;AACA,qBAAKP,OAAL,GAAeO,CAAf;AACIC,mBAJK,GAIC,IAAIC,MAAJ,EAJD,EAKT;;AALS;AAAA,uBAMKpB,OAAO,CAACD,UAAU,CAACE,EAAD,EAAKiB,CAAL,CAAX,CANZ;;AAAA;AAMLG,iBANK;AAOTA,iBAAC,CAACC,OAAF,CAAU,UAACC,CAAD;AAAA,yBAAOJ,GAAG,CAACI,CAAC,CAACjB,IAAF,GAASkB,IAAV,CAAH,GAAqBD,CAAC,CAACjB,IAAF,GAASmB,KAArC;AAAA,iBAAV;AACID,oBARK,GAQE,EARF;AASLE,qBATK,GASG,EATH;AAULC,0BAVK,GAUQ,EAVR;AAWTN,iBAAC,CAACC,OAAF,CAAU,UAACC,CAAD;AAAA,yBAAOC,IAAI,CAACI,IAAL,CAAUL,CAAC,CAACjB,IAAF,GAASkB,IAAnB,CAAP;AAAA,iBAAV;AACAH,iBAAC,CAACC,OAAF,CAAU,UAACC,CAAD;AAAA,yBAAOG,KAAK,CAACE,IAAN,CAAWL,CAAC,CAACjB,IAAF,GAASmB,KAApB,CAAP;AAAA,iBAAV;AACAV,uBAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,uBAAO,CAACC,GAAR,CAAYU,KAAZ;;AACA,qBAASG,CAAT,GAAa,CAAb,EAAgBA,IAAIH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnCF,4BAAU,CAACE,CAAD,CAAV,GAAgBH,KAAK,CAACG,CAAD,CAAL,GAAWH,KAAK,CAACG,IAAI,CAAL,CAAhC;AACJ;;AACIE,yBAlBK,GAkBO,IAAIX,MAAJ,EAlBP;;AAmBT,qBAASS,EAAT,GAAa,CAAb,EAAgBA,KAAIH,KAAK,CAACI,MAA1B,EAAkCD,EAAC,EAAnC,EAAuC;AACnCE,2BAAS,CAACP,IAAI,CAACK,EAAD,CAAL,CAAT,GAAqBF,UAAU,CAACE,EAAD,CAA/B;AACJ;;AACAhB,oBAAI,CAACN,SAAL,GAAiBwB,SAAjB;AAEIvB,wBAxBK,GAwBM,IAAIY,MAAJ,EAxBN;;AAyBT,qBAASS,GAAT,GAAa,CAAb,EAAgBA,MAAI,CAApB,EAAuBA,GAAC,EAAxB,EAA2B;AACvBrB,0BAAQ,CAACgB,IAAI,CAACA,IAAI,CAACM,MAAL,GAAYD,GAAb,CAAL,CAAR,GAAgCF,UAAU,CAACA,UAAU,CAACG,MAAX,GAAkBD,GAAnB,CAA1C;AACJ;;AACIpB,2BA5BK,GA4BS,IAAIW,MAAJ,EA5BT;;AA6BT,qBAASS,GAAT,GAAa,EAAb,EAAiBA,MAAI,CAArB,EAAwBA,GAAC,EAAzB,EAA4B;AACxBpB,6BAAW,CAACe,IAAI,CAACA,IAAI,CAACM,MAAL,GAAYD,GAAb,CAAL,CAAX,GAAmCF,UAAU,CAACA,UAAU,CAACG,MAAX,GAAkBD,GAAnB,CAA7C;AACJ;;AACAhB,oBAAI,CAACL,QAAL,GAAgBA,QAAhB;AACAK,oBAAI,CAACJ,WAAL,GAAmBA,WAAnB;;AAjCS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAFR;AAxBI,CAAf","names":["firebaseApp","getFirestore","collection","getDocs","db","name","props","countryProp","String","data","chartdata","weekData","twoWeekData","selected","country","mounted","self","display","console","log","watch","x","obj","Object","z","forEach","d","date","Cases","cases","casesDaily","push","i","length","monthData"],"sourceRoot":"","sources":["C:\\Users\\david\\Desktop\\git 1\\CovidTravelTracker\\src\\components\\Charts.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <p>{{country}}</p>\r\n    <select v-model=\"selected\">\r\n    <option value=\"\">Please select time period</option>\r\n    <option>Last 30 Days</option>\r\n    <option>Last 2 Weeks</option>\r\n    <option>Last Week</option>\r\n    </select>,<br><br>\r\n    <span>Selected: {{ selected }}</span>\r\n    <div v-if=\"selected=='Last 30 Days'\">\r\n    <line-chart class =\"user\" width=600px :min= null :data= \"chartdata\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last 2 Weeks'\">\r\n    <line-chart class =\"user\" width=600px :min= null :data= \"twoWeekData\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last Week'\">\r\n    <line-chart class =\"user\" width=600px :min= null :data= \"weekData\"></line-chart>\r\n    </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport firebaseApp from '../firebase.js';\r\nimport {getFirestore} from \"firebase/firestore\";\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nconst db = getFirestore(firebaseApp);\r\n\r\n\r\nexport default {\r\n\r\n    name:'Charts',\r\n    props: {\r\n       countryProp: String\r\n    },\r\n    data(){\r\n        return{\r\n            chartdata: {},\r\n            weekData: {},\r\n            twoWeekData: {},\r\n            selected: \"\",\r\n            country: this.countryProp\r\n\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        const self = this\r\n        display();\r\n        console.log(\"country:\"  + self.country)\r\n\r\n\r\n},\r\n    watch: {\r\n        \r\n        countryProp: async function(x) {\r\n            const self = this\r\n            console.log(\"prop changed:\" + x)\r\n            this.country = x\r\n            let obj = new Object();\r\n            //change \"Australia\" to self.country\r\n            let z = await getDocs(collection(db, x));\r\n            z.forEach((d) => obj[d.data().date] = d.data().Cases);         \r\n            let date = []\r\n            let cases = []\r\n            let casesDaily = []\r\n            z.forEach((d) => date.push(d.data().date))\r\n            z.forEach((d) => cases.push(d.data().Cases))\r\n            console.log(\"cases\")\r\n            console.log(cases)\r\n            for (let i = 1; i < cases.length; i++) {\r\n                casesDaily[i] = cases[i] - cases[i - 1]\r\n            }\r\n            let monthData = new Object();\r\n            for (let i = 1; i < cases.length; i++) {\r\n                monthData[date[i]] = casesDaily[i]\r\n            }\r\n            self.chartdata = monthData\r\n\r\n            let weekData = new Object();\r\n            for (let i = 7; i > 0; i--){\r\n                weekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n            }\r\n            let twoWeekData = new Object();\r\n            for (let i = 14; i > 0; i--){\r\n                twoWeekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n            }\r\n            self.weekData = weekData\r\n            self.twoWeekData = twoWeekData\r\n\r\n        }\r\n    }\r\n\r\n    \r\n}\r\n</script>\r\n<style scoped>\r\n    .user{\r\n        display: inline-block;\r\n    }\r\n</style>"]}]}