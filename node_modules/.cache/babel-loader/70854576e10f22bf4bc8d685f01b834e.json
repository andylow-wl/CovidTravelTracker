{"remainingRequest":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\src\\components\\Charts1.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\src\\components\\Charts1.vue","mtime":1649536577428},{"path":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\babel.config.js","mtime":1649536557369},{"path":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649536563251},{"path":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js","mtime":1649536563032},{"path":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649536563251},{"path":"C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1649536576804}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3pob25nL0Rlc2t0b3AvQlQzMTAzL0NvdmlkIFRyYWNrZXIvQ292aWRUcmF2ZWxUcmFja2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldERvY3MgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwp2YXIgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0czEnLAogIHByb3BzOiB7CiAgICBjb3VudHJ5UHJvcDogU3RyaW5nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhcnRkYXRhOiB7fSwKICAgICAgd2Vla0RhdGE6IHt9LAogICAgICB0d29XZWVrRGF0YToge30sCiAgICAgIHNlbGVjdGVkOiAiTGFzdCBXZWVrIiwKICAgICAgY291bnRyeTogdGhpcy5jb3VudHJ5UHJvcAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBjb25zb2xlLmxvZygiY291bnRyeToiICsgc2VsZi5jb3VudHJ5KTsKICB9LAogIHdhdGNoOiB7CiAgICBjb3VudHJ5UHJvcDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NvdW50cnlQcm9wID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHgpIHsKICAgICAgICB2YXIgc2VsZiwgb2JqLCB6LCBkYXRlLCBjYXNlcywgY2FzZXNEYWlseSwgaSwgbW9udGhEYXRhLCBfaSwgd2Vla0RhdGEsIF9pMiwgdHdvV2Vla0RhdGEsIF9pMzsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicHJvcCBjaGFuZ2VkOiIgKyB4KTsKICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeSA9IHg7CiAgICAgICAgICAgICAgICBvYmogPSBuZXcgT2JqZWN0KCk7IC8vY2hhbmdlICJBdXN0cmFsaWEiIHRvIHNlbGYuY291bnRyeQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldERvY3MoY29sbGVjdGlvbihkYiwgeCkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB6ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHouZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gb2JqW2QuZGF0YSgpLmRhdGVdID0gZC5kYXRhKCkuQ2FzZXM7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGRhdGUgPSBbXTsKICAgICAgICAgICAgICAgIGNhc2VzID0gW107CiAgICAgICAgICAgICAgICBjYXNlc0RhaWx5ID0gW107CiAgICAgICAgICAgICAgICB6LmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUucHVzaChkLmRhdGEoKS5kYXRlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgei5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjYXNlcy5wdXNoKGQuZGF0YSgpLkNhc2VzKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImNhc2VzIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjYXNlcyk7CgogICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IGNhc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGNhc2VzRGFpbHlbaV0gPSBjYXNlc1tpXSAtIGNhc2VzW2kgLSAxXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtb250aERhdGEgPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgICAgICAgZm9yIChfaSA9IDE7IF9pIDwgY2FzZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICAgIG1vbnRoRGF0YVtkYXRlW19pXV0gPSBjYXNlc0RhaWx5W19pXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZWxmLmNoYXJ0ZGF0YSA9IG1vbnRoRGF0YTsKICAgICAgICAgICAgICAgIHdlZWtEYXRhID0gbmV3IE9iamVjdCgpOwoKICAgICAgICAgICAgICAgIGZvciAoX2kyID0gNzsgX2kyID4gMDsgX2kyLS0pIHsKICAgICAgICAgICAgICAgICAgd2Vla0RhdGFbZGF0ZVtkYXRlLmxlbmd0aCAtIF9pMl1dID0gY2FzZXNEYWlseVtjYXNlc0RhaWx5Lmxlbmd0aCAtIF9pMl07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdHdvV2Vla0RhdGEgPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgICAgICAgZm9yIChfaTMgPSAxNDsgX2kzID4gMDsgX2kzLS0pIHsKICAgICAgICAgICAgICAgICAgdHdvV2Vla0RhdGFbZGF0ZVtkYXRlLmxlbmd0aCAtIF9pM11dID0gY2FzZXNEYWlseVtjYXNlc0RhaWx5Lmxlbmd0aCAtIF9pM107CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc2VsZi53ZWVrRGF0YSA9IHdlZWtEYXRhOwogICAgICAgICAgICAgICAgc2VsZi50d29XZWVrRGF0YSA9IHR3b1dlZWtEYXRhOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNvdW50cnlQcm9wKF94KSB7CiAgICAgICAgcmV0dXJuIF9jb3VudHJ5UHJvcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY291bnRyeVByb3A7CiAgICB9KCkKICB9Cn07"},{"version":3,"mappings":"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","names":["firebaseApp","getFirestore","collection","getDocs","db","name","props","countryProp","String","data","chartdata","weekData","twoWeekData","selected","country","mounted","self","console","log","watch","x","obj","Object","z","forEach","d","date","Cases","cases","casesDaily","push","i","length","monthData"],"sourceRoot":"","sources":["C:\\Users\\zhong\\Desktop\\BT3103\\Covid Tracker\\CovidTravelTracker\\src\\components\\Charts1.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <select v-model=\"selected\">\r\n    <option value=\"\">Please select time period</option>\r\n    <option>Last 30 Days</option>\r\n    <option>Last 2 Weeks</option>\r\n    <option>Last Week</option>\r\n    </select><br><br>\r\n    <!-- <span>Selected: {{ selected }}</span> -->\r\n    <div v-if=\"selected=='Last 30 Days'\">\r\n    <line-chart class =\"user\" width=100% :min= null :data= \"chartdata\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last 2 Weeks'\">\r\n    <line-chart class =\"user\" width=100%  :min= null :data= \"twoWeekData\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last Week'\">\r\n    <line-chart class =\"user\" width=100%  :min= null :data= \"weekData\"></line-chart>\r\n    </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport firebaseApp from '../firebase.js';\r\nimport {getFirestore} from \"firebase/firestore\";\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nconst db = getFirestore(firebaseApp);\r\n\r\n\r\nexport default {\r\n\r\n    name:'Charts1',\r\n    props: {\r\n       countryProp: String\r\n    },\r\n    data(){\r\n        return{\r\n            chartdata: {},\r\n            weekData: {},\r\n            twoWeekData: {},\r\n            selected: \"Last Week\",\r\n            country: this.countryProp\r\n\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        const self = this\r\n \r\n        console.log(\"country:\"  + self.country)\r\n\r\n\r\n},\r\n    watch: {\r\n        \r\n        countryProp: async function(x) {\r\n            const self = this\r\n            console.log(\"prop changed:\" + x)\r\n            this.country = x\r\n            let obj = new Object();\r\n            //change \"Australia\" to self.country\r\n            let z = await getDocs(collection(db, x));\r\n            z.forEach((d) => obj[d.data().date] = d.data().Cases);         \r\n            let date = []\r\n            let cases = []\r\n            let casesDaily = []\r\n            z.forEach((d) => date.push(d.data().date))\r\n            z.forEach((d) => cases.push(d.data().Cases))\r\n            console.log(\"cases\")\r\n            console.log(cases)\r\n            for (let i = 1; i < cases.length; i++) {\r\n                casesDaily[i] = cases[i] - cases[i - 1]\r\n            }\r\n            let monthData = new Object();\r\n            for (let i = 1; i < cases.length; i++) {\r\n                monthData[date[i]] = casesDaily[i]\r\n            }\r\n            self.chartdata = monthData\r\n\r\n            let weekData = new Object();\r\n            for (let i = 7; i > 0; i--){\r\n                weekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n            }\r\n            let twoWeekData = new Object();\r\n            for (let i = 14; i > 0; i--){\r\n                twoWeekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n            }\r\n            self.weekData = weekData\r\n            self.twoWeekData = twoWeekData\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .user{\r\n        display: inline-block;\r\n    }\r\n</style>"]}]}