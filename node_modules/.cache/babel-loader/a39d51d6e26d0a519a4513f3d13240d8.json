{"remainingRequest":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\src\\components\\Charts1.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\src\\components\\Charts1.vue","mtime":1649594522990},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\babel.config.js","mtime":1649502970773},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649502977050},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js","mtime":1649502976777},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649502977050},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1649502991907}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FuZHlsL0Rlc2t0b3AvYnQzMTAzL0NvdmlkVHJhdmVsVHJhY2tlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnLi4vZmlyZWJhc2UuanMnOwppbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwppbXBvcnQgeyBjb2xsZWN0aW9uLCBnZXREb2NzIH0gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIjsKdmFyIGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGFydHMxJywKICBwcm9wczogewogICAgY291bnRyeVByb3A6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0ZGF0YToge30sCiAgICAgIHdlZWtEYXRhOiB7fSwKICAgICAgdHdvV2Vla0RhdGE6IHt9LAogICAgICBzZWxlY3RlZDogIkxhc3QgV2VlayIsCiAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeVByb3AKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgY29uc29sZS5sb2coImNvdW50cnk6IiArIHNlbGYuY291bnRyeSk7CiAgfSwKICB3YXRjaDogewogICAgY291bnRyeVByb3A6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgICAgdmFyIHNlbGYsIG9iaiwgeiwgZGF0ZSwgY2FzZXMsIGNhc2VzRGFpbHksIGksIG1vbnRoRGF0YSwgX2ksIHdlZWtEYXRhLCBfaTIsIHR3b1dlZWtEYXRhLCBfaTM7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBzZWxmID0gX3RoaXM7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwcm9wIGNoYW5nZWQ6IiArIHgpOwogICAgICAgICAgICAgICAgICBfdGhpcy5jb3VudHJ5ID0geDsKICAgICAgICAgICAgICAgICAgb2JqID0gbmV3IE9iamVjdCgpOyAvL2NoYW5nZSAiQXVzdHJhbGlhIiB0byBzZWxmLmNvdW50cnkKCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCB4KSk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICB6ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgei5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ialtkLmRhdGEoKS5kYXRlXSA9IGQuZGF0YSgpLkNhc2VzOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgZGF0ZSA9IFtdOwogICAgICAgICAgICAgICAgICBjYXNlcyA9IFtdOwogICAgICAgICAgICAgICAgICBjYXNlc0RhaWx5ID0gW107CiAgICAgICAgICAgICAgICAgIHouZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLnB1c2goZC5kYXRhKCkuZGF0ZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB6LmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FzZXMucHVzaChkLmRhdGEoKS5DYXNlcyk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY2FzZXMiKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2FzZXMpOwoKICAgICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IGNhc2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZXNEYWlseVtpXSA9IGNhc2VzW2ldIC0gY2FzZXNbaSAtIDFdOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBtb250aERhdGEgPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgICAgICAgICBmb3IgKF9pID0gMTsgX2kgPCBjYXNlcy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgICBtb250aERhdGFbZGF0ZVtfaV1dID0gY2FzZXNEYWlseVtfaV07CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHNlbGYuY2hhcnRkYXRhID0gbW9udGhEYXRhOwogICAgICAgICAgICAgICAgICB3ZWVrRGF0YSA9IG5ldyBPYmplY3QoKTsKCiAgICAgICAgICAgICAgICAgIGZvciAoX2kyID0gNzsgX2kyID4gMDsgX2kyLS0pIHsKICAgICAgICAgICAgICAgICAgICB3ZWVrRGF0YVtkYXRlW2RhdGUubGVuZ3RoIC0gX2kyXV0gPSBjYXNlc0RhaWx5W2Nhc2VzRGFpbHkubGVuZ3RoIC0gX2kyXTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdHdvV2Vla0RhdGEgPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgICAgICAgICBmb3IgKF9pMyA9IDE0OyBfaTMgPiAwOyBfaTMtLSkgewogICAgICAgICAgICAgICAgICAgIHR3b1dlZWtEYXRhW2RhdGVbZGF0ZS5sZW5ndGggLSBfaTNdXSA9IGNhc2VzRGFpbHlbY2FzZXNEYWlseS5sZW5ndGggLSBfaTNdOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBzZWxmLndlZWtEYXRhID0gd2Vla0RhdGE7CiAgICAgICAgICAgICAgICAgIHNlbGYudHdvV2Vla0RhdGEgPSB0d29XZWVrRGF0YTsKCiAgICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKSgpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["firebaseApp","getFirestore","collection","getDocs","db","name","props","countryProp","String","data","chartdata","weekData","twoWeekData","selected","country","mounted","self","console","log","watch","immediate","handler","x","obj","Object","z","forEach","d","date","Cases","cases","casesDaily","push","i","length","monthData"],"sourceRoot":"","sources":["C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\src\\components\\Charts1.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <select v-model=\"selected\">\r\n    <option value=\"\">Please select time period</option>\r\n    <option>Last 30 Days</option>\r\n    <option>Last 2 Weeks</option>\r\n    <option>Last Week</option>\r\n    </select><br><br>\r\n    <!-- <span>Selected: {{ selected }}</span> -->\r\n    <div v-if=\"selected=='Last 30 Days'\">\r\n    <line-chart class =\"user\" width=100% :min= null :data= \"chartdata\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last 2 Weeks'\">\r\n    <line-chart class =\"user\" width=100%  :min= null :data= \"twoWeekData\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last Week'\">\r\n    <line-chart class =\"user\" width=100%  :min= null :data= \"weekData\"></line-chart>\r\n    </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport firebaseApp from '../firebase.js';\r\nimport {getFirestore} from \"firebase/firestore\";\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nconst db = getFirestore(firebaseApp);\r\n\r\n\r\nexport default {\r\n\r\n    name:'Charts1',\r\n    props: {\r\n       countryProp: String\r\n    },\r\n    data(){\r\n        return{\r\n            chartdata: {},\r\n            weekData: {},\r\n            twoWeekData: {},\r\n            selected: \"Last Week\",\r\n            country: this.countryProp\r\n\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        const self = this\r\n \r\n        console.log(\"country:\"  + self.country)\r\n\r\n\r\n},\r\n    watch: {\r\n\r\n        countryProp: {\r\n            immediate:true,\r\n            async handler(x){\r\n                const self = this\r\n                console.log(\"prop changed:\" + x)\r\n                this.country = x\r\n                let obj = new Object();\r\n                //change \"Australia\" to self.country\r\n                let z = await getDocs(collection(db, x));\r\n                z.forEach((d) => obj[d.data().date] = d.data().Cases);         \r\n                let date = []\r\n                let cases = []\r\n                let casesDaily = []\r\n                z.forEach((d) => date.push(d.data().date))\r\n                z.forEach((d) => cases.push(d.data().Cases))\r\n                console.log(\"cases\")\r\n                console.log(cases)\r\n                for (let i = 1; i < cases.length; i++) {\r\n                    casesDaily[i] = cases[i] - cases[i - 1]\r\n                }\r\n                let monthData = new Object();\r\n                for (let i = 1; i < cases.length; i++) {\r\n                    monthData[date[i]] = casesDaily[i]\r\n                }\r\n                self.chartdata = monthData\r\n\r\n                let weekData = new Object();\r\n                for (let i = 7; i > 0; i--){\r\n                    weekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n                }\r\n                let twoWeekData = new Object();\r\n                for (let i = 14; i > 0; i--){\r\n                    twoWeekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n                }\r\n                self.weekData = weekData\r\n                self.twoWeekData = twoWeekData\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .user{\r\n        display: inline-block;\r\n    }\r\n</style>"]}]}