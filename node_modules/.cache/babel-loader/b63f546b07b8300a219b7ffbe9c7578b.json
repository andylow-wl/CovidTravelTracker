{"remainingRequest":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\src\\components\\Charts2.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\src\\components\\Charts2.vue","mtime":1649502992779},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\babel.config.js","mtime":1649502970773},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649502977050},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\babel-loader\\lib\\index.js","mtime":1649502976777},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649502977050},{"path":"C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1649502991907}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FuZHlsL0Rlc2t0b3AvYnQzMTAzL0NvdmlkVHJhdmVsVHJhY2tlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnLi4vZmlyZWJhc2UuanMnOwppbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwppbXBvcnQgeyBjb2xsZWN0aW9uLCBnZXREb2NzIH0gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIjsKdmFyIGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGFydHMyJywKICBwcm9wczogewogICAgY291bnRyeVByb3A6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0ZGF0YToge30sCiAgICAgIHdlZWtEYXRhOiB7fSwKICAgICAgdHdvV2Vla0RhdGE6IHt9LAogICAgICBzZWxlY3RlZDogIkxhc3QgV2VlayIsCiAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeVByb3AKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgY29uc29sZS5sb2coImNvdW50cnk6IiArIHNlbGYuY291bnRyeSk7CiAgfSwKICB3YXRjaDogewogICAgY291bnRyeVByb3A6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jb3VudHJ5UHJvcCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh4KSB7CiAgICAgICAgdmFyIHNlbGYsIG9iaiwgeiwgZGF0ZSwgY2FzZXMsIGNhc2VzRGFpbHksIGksIG1vbnRoRGF0YSwgX2ksIHdlZWtEYXRhLCBfaTIsIHR3b1dlZWtEYXRhLCBfaTM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInByb3AgY2hhbmdlZDoiICsgeCk7CiAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnkgPSB4OwogICAgICAgICAgICAgICAgb2JqID0gbmV3IE9iamVjdCgpOyAvL2NoYW5nZSAiQXVzdHJhbGlhIiB0byBzZWxmLmNvdW50cnkKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXREb2NzKGNvbGxlY3Rpb24oZGIsIHgpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgeiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB6LmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ialtkLmRhdGEoKS5kYXRlXSA9IGQuZGF0YSgpLkNhc2VzOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkYXRlID0gW107CiAgICAgICAgICAgICAgICBjYXNlcyA9IFtdOwogICAgICAgICAgICAgICAgY2FzZXNEYWlseSA9IFtdOwogICAgICAgICAgICAgICAgei5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLnB1c2goZC5kYXRhKCkuZGF0ZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHouZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gY2FzZXMucHVzaChkLmRhdGEoKS5DYXNlcyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjYXNlcyIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2FzZXMpOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBjYXNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBjYXNlc0RhaWx5W2ldID0gY2FzZXNbaV0gLSBjYXNlc1tpIC0gMV07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbW9udGhEYXRhID0gbmV3IE9iamVjdCgpOwoKICAgICAgICAgICAgICAgIGZvciAoX2kgPSAxOyBfaSA8IGNhc2VzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgICAgICBtb250aERhdGFbZGF0ZVtfaV1dID0gY2FzZXNEYWlseVtfaV07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc2VsZi5jaGFydGRhdGEgPSBtb250aERhdGE7CiAgICAgICAgICAgICAgICB3ZWVrRGF0YSA9IG5ldyBPYmplY3QoKTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMiA9IDc7IF9pMiA+IDA7IF9pMi0tKSB7CiAgICAgICAgICAgICAgICAgIHdlZWtEYXRhW2RhdGVbZGF0ZS5sZW5ndGggLSBfaTJdXSA9IGNhc2VzRGFpbHlbY2FzZXNEYWlseS5sZW5ndGggLSBfaTJdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHR3b1dlZWtEYXRhID0gbmV3IE9iamVjdCgpOwoKICAgICAgICAgICAgICAgIGZvciAoX2kzID0gMTQ7IF9pMyA+IDA7IF9pMy0tKSB7CiAgICAgICAgICAgICAgICAgIHR3b1dlZWtEYXRhW2RhdGVbZGF0ZS5sZW5ndGggLSBfaTNdXSA9IGNhc2VzRGFpbHlbY2FzZXNEYWlseS5sZW5ndGggLSBfaTNdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNlbGYud2Vla0RhdGEgPSB3ZWVrRGF0YTsKICAgICAgICAgICAgICAgIHNlbGYudHdvV2Vla0RhdGEgPSB0d29XZWVrRGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBjb3VudHJ5UHJvcChfeCkgewogICAgICAgIHJldHVybiBfY291bnRyeVByb3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvdW50cnlQcm9wOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["firebaseApp","getFirestore","collection","getDocs","db","name","props","countryProp","String","data","chartdata","weekData","twoWeekData","selected","country","mounted","self","console","log","watch","x","obj","Object","z","forEach","d","date","Cases","cases","casesDaily","push","i","length","monthData"],"sourceRoot":"","sources":["C:\\Users\\andyl\\Desktop\\bt3103\\CovidTravelTracker\\src\\components\\Charts2.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <select v-model=\"selected\">\r\n    <option value=\"\">Please select time period</option>\r\n    <option>Last 30 Days</option>\r\n    <option>Last 2 Weeks</option>\r\n    <option>Last Week</option>\r\n    </select>,<br><br>\r\n    <span>Selected: {{ selected }}</span>\r\n    <div v-if=\"selected=='Last 30 Days'\">\r\n    <line-chart class =\"user\" width=600px :min= null :data= \"chartdata\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last 2 Weeks'\">\r\n    <line-chart class =\"user\" width=600px :min= null :data= \"twoWeekData\"></line-chart>\r\n    </div>\r\n\r\n    <div v-if=\"selected=='Last Week'\">\r\n    <line-chart class =\"user\" width=600px :min= null :data= \"weekData\"></line-chart>\r\n    </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport firebaseApp from '../firebase.js';\r\nimport {getFirestore} from \"firebase/firestore\";\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nconst db = getFirestore(firebaseApp);\r\n\r\n\r\nexport default {\r\n\r\n    name:'Charts2',\r\n    props: {\r\n       countryProp: String\r\n    },\r\n    data(){\r\n        return{\r\n            chartdata: {},\r\n            weekData: {},\r\n            twoWeekData: {},\r\n            selected: \"Last Week\",\r\n            country: this.countryProp\r\n\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        const self = this\r\n \r\n        console.log(\"country:\"  + self.country)\r\n\r\n\r\n},\r\n    watch: {\r\n        \r\n        countryProp: async function(x) {\r\n            const self = this\r\n            console.log(\"prop changed:\" + x)\r\n            this.country = x\r\n            let obj = new Object();\r\n            //change \"Australia\" to self.country\r\n            let z = await getDocs(collection(db, x));\r\n            z.forEach((d) => obj[d.data().date] = d.data().Cases);         \r\n            let date = []\r\n            let cases = []\r\n            let casesDaily = []\r\n            z.forEach((d) => date.push(d.data().date))\r\n            z.forEach((d) => cases.push(d.data().Cases))\r\n            console.log(\"cases\")\r\n            console.log(cases)\r\n            for (let i = 1; i < cases.length; i++) {\r\n                casesDaily[i] = cases[i] - cases[i - 1]\r\n            }\r\n            let monthData = new Object();\r\n            for (let i = 1; i < cases.length; i++) {\r\n                monthData[date[i]] = casesDaily[i]\r\n            }\r\n            self.chartdata = monthData\r\n\r\n            let weekData = new Object();\r\n            for (let i = 7; i > 0; i--){\r\n                weekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n            }\r\n            let twoWeekData = new Object();\r\n            for (let i = 14; i > 0; i--){\r\n                twoWeekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\r\n            }\r\n            self.weekData = weekData\r\n            self.twoWeekData = twoWeekData\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    .user{\r\n        display: inline-block;\r\n    }\r\n</style>"]}]}