{"remainingRequest":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/babel-loader/lib/index.js!/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/src/components/Charts.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/src/components/Charts.vue","mtime":1649334685298},{"path":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/babel.config.js","mtime":1648925663561},{"path":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/cache-loader/dist/cjs.js","mtime":1649334884969},{"path":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/babel-loader/lib/index.js","mtime":1649334887771},{"path":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/cache-loader/dist/cjs.js","mtime":1649334884969},{"path":"/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/node_modules/vue-loader-v16/dist/index.js","mtime":1649334887567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kaW9oYXJ5YWRpL0Rlc2t0b3AvQlQzMTAzX3Byb2plY3QvQ292aWRUcmF2ZWxUcmFja2VyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCB7IGNvbGxlY3Rpb24sIGdldERvY3MgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwp2YXIgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0cycsCiAgcHJvcHM6IHsKICAgIGNvdW50cnlQcm9wOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydGRhdGE6IHt9LAogICAgICB3ZWVrRGF0YToge30sCiAgICAgIHR3b1dlZWtEYXRhOiB7fSwKICAgICAgc2VsZWN0ZWQ6ICIiLAogICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnlQcm9wCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGNvbnNvbGUubG9nKCJjb3VudHJ5OiIgKyBzZWxmLmNvdW50cnkpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGNvdW50cnlQcm9wOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfY291bnRyeVByb3AgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoeCkgewogICAgICAgIHZhciBzZWxmLCBvYmosIHosIGRhdGUsIGNhc2VzLCBjYXNlc0RhaWx5LCBpLCBtb250aERhdGEsIF9pLCB3ZWVrRGF0YSwgX2kyLCB0d29XZWVrRGF0YSwgX2kzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZWxmID0gdGhpczsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJwcm9wIGNoYW5nZWQ6IiArIHgpOwogICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5ID0geDsKICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBPYmplY3QoKTsgLy9jaGFuZ2UgIkF1c3RyYWxpYSIgdG8gc2VsZi5jb3VudHJ5CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCB4KSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHogPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgei5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpbZC5kYXRhKCkuZGF0ZV0gPSBkLmRhdGEoKS5DYXNlczsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGF0ZSA9IFtdOwogICAgICAgICAgICAgICAgY2FzZXMgPSBbXTsKICAgICAgICAgICAgICAgIGNhc2VzRGFpbHkgPSBbXTsKICAgICAgICAgICAgICAgIHouZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5wdXNoKGQuZGF0YSgpLmRhdGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB6LmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhc2VzLnB1c2goZC5kYXRhKCkuQ2FzZXMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiY2FzZXMiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhc2VzKTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgY2FzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgY2FzZXNEYWlseVtpXSA9IGNhc2VzW2ldIC0gY2FzZXNbaSAtIDFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG1vbnRoRGF0YSA9IG5ldyBPYmplY3QoKTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pID0gMTsgX2kgPCBjYXNlcy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgbW9udGhEYXRhW2RhdGVbX2ldXSA9IGNhc2VzRGFpbHlbX2ldOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNlbGYuY2hhcnRkYXRhID0gbW9udGhEYXRhOwogICAgICAgICAgICAgICAgd2Vla0RhdGEgPSBuZXcgT2JqZWN0KCk7CgogICAgICAgICAgICAgICAgZm9yIChfaTIgPSA3OyBfaTIgPiAwOyBfaTItLSkgewogICAgICAgICAgICAgICAgICB3ZWVrRGF0YVtkYXRlW2RhdGUubGVuZ3RoIC0gX2kyXV0gPSBjYXNlc0RhaWx5W2Nhc2VzRGFpbHkubGVuZ3RoIC0gX2kyXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0d29XZWVrRGF0YSA9IG5ldyBPYmplY3QoKTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMyA9IDE0OyBfaTMgPiAwOyBfaTMtLSkgewogICAgICAgICAgICAgICAgICB0d29XZWVrRGF0YVtkYXRlW2RhdGUubGVuZ3RoIC0gX2kzXV0gPSBjYXNlc0RhaWx5W2Nhc2VzRGFpbHkubGVuZ3RoIC0gX2kzXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZWxmLndlZWtEYXRhID0gd2Vla0RhdGE7CiAgICAgICAgICAgICAgICBzZWxmLnR3b1dlZWtEYXRhID0gdHdvV2Vla0RhdGE7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY291bnRyeVByb3AoX3gpIHsKICAgICAgICByZXR1cm4gX2NvdW50cnlQcm9wLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb3VudHJ5UHJvcDsKICAgIH0oKQogIH0KfTs="},{"version":3,"mappings":"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","names":["firebaseApp","getFirestore","collection","getDocs","db","name","props","countryProp","String","data","chartdata","weekData","twoWeekData","selected","country","mounted","self","console","log","watch","x","obj","Object","z","forEach","d","date","Cases","cases","casesDaily","push","i","length","monthData"],"sourceRoot":"","sources":["/Users/dioharyadi/Desktop/BT3103_project/CovidTravelTracker/src/components/Charts.vue"],"sourcesContent":["<template>\n    <div>\n        <p>{{country}}</p>\n    <select v-model=\"selected\">\n    <option value=\"\">Please select time period</option>\n    <option>Last 30 Days</option>\n    <option>Last 2 Weeks</option>\n    <option>Last Week</option>\n    </select>,<br><br>\n    <span>Selected: {{ selected }}</span>\n    <div v-if=\"selected=='Last 30 Days'\">\n    <line-chart class =\"user\" width=600px :min= null :data= \"chartdata\"></line-chart>\n    </div>\n\n    <div v-if=\"selected=='Last 2 Weeks'\">\n    <line-chart class =\"user\" width=600px :min= null :data= \"twoWeekData\"></line-chart>\n    </div>\n\n    <div v-if=\"selected=='Last Week'\">\n    <line-chart class =\"user\" width=600px :min= null :data= \"weekData\"></line-chart>\n    </div>\n\n    </div>\n</template>\n<script>\nimport firebaseApp from '../firebase.js';\nimport {getFirestore} from \"firebase/firestore\";\nimport {collection, getDocs} from \"firebase/firestore\";\nconst db = getFirestore(firebaseApp);\n\n\nexport default {\n\n    name:'Charts',\n    props: {\n       countryProp: String\n    },\n    data(){\n        return{\n            chartdata: {},\n            weekData: {},\n            twoWeekData: {},\n            selected: \"\",\n            country: this.countryProp\n\n        }\n    },\n\n    mounted(){\n        const self = this\n \n        console.log(\"country:\"  + self.country)\n\n\n},\n    watch: {\n        \n        countryProp: async function(x) {\n            const self = this\n            console.log(\"prop changed:\" + x)\n            this.country = x\n            let obj = new Object();\n            //change \"Australia\" to self.country\n            let z = await getDocs(collection(db, x));\n            z.forEach((d) => obj[d.data().date] = d.data().Cases);         \n            let date = []\n            let cases = []\n            let casesDaily = []\n            z.forEach((d) => date.push(d.data().date))\n            z.forEach((d) => cases.push(d.data().Cases))\n            console.log(\"cases\")\n            console.log(cases)\n            for (let i = 1; i < cases.length; i++) {\n                casesDaily[i] = cases[i] - cases[i - 1]\n            }\n            let monthData = new Object();\n            for (let i = 1; i < cases.length; i++) {\n                monthData[date[i]] = casesDaily[i]\n            }\n            self.chartdata = monthData\n\n            let weekData = new Object();\n            for (let i = 7; i > 0; i--){\n                weekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\n            }\n            let twoWeekData = new Object();\n            for (let i = 14; i > 0; i--){\n                twoWeekData[date[date.length-i]] = casesDaily[casesDaily.length-i]\n            }\n            self.weekData = weekData\n            self.twoWeekData = twoWeekData\n\n        }\n    }\n\n    \n}\n</script>\n<style scoped>\n    .user{\n        display: inline-block;\n    }\n</style>"]}]}